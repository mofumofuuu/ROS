# 动作库

## 介绍

- 一种问答通信机制，且带有连续反馈，在任务过程终止实现

- goal
- cancel
- status
- feedback
- result
## 实现动作

```
# 定义动作消息
uint32 diswasher_id
---
# 定义结果消息
uint32 total_dishes_cleaned
---
# 定义周期反馈的消息
float32 percent_complete

```
## 修改package.xml和CmakeLists.txt

 - package.xml
 ```
 <build_depend>actionlib</build_depend>
 <build_depend>actionlib_msgs</build_depend>
 <exec_depend>actionlib</exec_depend>
 <exec_depend>actionlib_msgs</exec_depend>
 ```
 - CMakeLists.txt
  ```
  find_package(catkin REQUIRED actionlib_msgs actionlib)
  add_action_files(DIRECTORY action FILES DoDishes.action)
  generate_messages(DEPENDENCIES actionlib_msgs)
  ```
## 创建服务器
 创建xxx_server.cpp
 创建xxx_client.cpp

 ### 修改cmakelists
 add_executable(DoDishes_client src/DoDishes_client.cpp)
 target_link_libraries(DoDishes_client ${catkin_LIBRARIES})
 add_dependencies(DoDishes_client ${$PROJECT_NAME}_EXPORTED_TARGETS})

add_executable(DoDishes_server src/DoDishes_server.cpp)
 target_link_libraries(DoDishes_server ${catkin_LIBRARIES})
 add_dependencies(DoDishes_server ${$PROJECT_NAME}_EXPORTED_TARGETS})